triage_task:
  description: >
      Analyze the following customer message:

        "{customer_message}"

        Classify the issue into one of the following categories:
        - Order Issue
        - Refund Issue
        - General Question
        - Escalation Needed

        Also extract:
        - Order ID (if present)
        - Customer sentiment (Neutral / Frustrated / Angry)
  expected_output: >
     A structured classification including:
        - issue_type
        - order_id (if any)
        - sentiment
  agent: triage_agent

order_task:
  description: >
    If the issue is classified as 'Order Issue':

        - Extract the order ID
        - Use the Order Lookup Tool
        - Provide a clear, friendly response explaining order status
        - If delayed more than 3 days, apologize and offer reassurance
  expected_output: >
    A customer-friendly response explaining:
        - Order status
        - Tracking details
        - Resolution or next steps
  agent: order_agent

refund_task:
  description: >
    If the issue is classified as 'Refund Issue':
        - Extract order ID
        - Check refund eligibility
        - Use Refund Tool if eligible
        - Explain refund decision clearly
  expected_output: >
    A clear decision including:
        - Whether refund was approved or denied
        - Explanation based on policy
        - Next steps for customer
  agent: refund_agent

escalation_task:
  description: >
        If customer sentiment is Angry or issue is complex:
        - Prepare escalation summary for human agent
        - Include issue type
        - Include order ID
        - Include sentiment analysis
        - Suggest recommended resolution
  expected_output: >
    A structured escalation summary for human support including:
        - Issue Type
        - Order ID
        - Sentiment
        - Summary
        - Recommended Action
  agent: escalation_agent